services:
  deploy-arm64-v0.8:
    build:
      context: ./dockerfiles
      dockerfile: Dockerfile.arm64.v0.8
      network: host
      platforms:
        - linux/arm64
      args:
        http_proxy: ${http_proxy}
        https_proxy: ${https_proxy}
    image: deathhorn/onboard_env:deploy-arm64-v0.8

    hostname: ${HOSTNAME}     # matches host's hostname
    network_mode: "host"      # use host network
    privileged: true          # equivalent to --privileged

  # ---- Older versions: not started by default ----
  deploy-arm64-v0.7:
    build:
      context: ./dockerfiles
      dockerfile: Dockerfile.arm64.v0.7
      network: host
      platforms:
        - linux/arm64
      args:
        http_proxy: ${http_proxy}
        https_proxy: ${https_proxy}
    image: deathhorn/onboard_env:deploy-arm64-v0.7
    profiles: ["archived"]

    hostname: ${HOSTNAME}     # matches host's hostname
    network_mode: "host"      # use host network
    privileged: true          # equivalent to --privileged
  deploy-arm64-v0.6:
    build:
      context: ./dockerfiles
      dockerfile: Dockerfile.arm64.v0.6
      network: host
      platforms:
        - linux/arm64
      args:
        http_proxy: ${http_proxy}
        https_proxy: ${https_proxy}
    image: deathhorn/onboard_env:deploy-arm64-v0.6
    profiles: ["archived"]

    hostname: ${HOSTNAME}     # matches host's hostname
    network_mode: "host"      # use host network
    privileged: true          # equivalent to --privileged
  deploy-arm64-v0.5:
    build:
      context: ./dockerfiles
      dockerfile: Dockerfile.arm64.v0.5
      network: host
      platforms:
        - linux/arm64
      args:
        http_proxy: ${http_proxy}
        https_proxy: ${https_proxy}
    image: deathhorn/onboard_env:deploy-arm64-v0.5
    profiles: ["archived"]

    hostname: ${HOSTNAME}     # matches host's hostname
    network_mode: "host"      # use host network
    privileged: true          # equivalent to --privileged
